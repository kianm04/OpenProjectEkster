@if ((board$ | async); as board) {
  @if (!board.isFree) {
    <op-enterprise-banner-frame class="boards-list--enterprise-banner"
      feature="board_view"
      [dismissable]="true"
     />
  }
  @if (available) {
    <div
      class="boards-list--container"
      [ngClass]="{ '-free' : board.isFree }"
      #container
      cdkDropList
      [cdkDropListDisabled]="!board.editable"
      cdkDropListOrientation="horizontal"
      (cdkDropListDropped)="moveList(board, $event)"
      >
      @for (boardWidget of boardWidgets; track trackByQueryId($index, boardWidget)) {
        <div
          class="boards-list--item"
          cdkDrag
          [cdkDragData]="boardWidget"
          >
          @if (board.editable) {
            <span
              class="boards-list-item-handle icon icon-drag-handle"
            cdkDragHandle></span>
          }
          <board-list [resource]="boardWidget"
            [board]="board"
            (onRemove)="removeList(board, boardWidget)"
            (visibilityChange)="changeVisibilityOfList(board, boardWidget, $event)" />
        </div>
      }
      @if (showHiddenListWarning) {
        <span
          class="boards-list--tooltip tooltip--right"
          [attr.data-tooltip]="text.hiddenListWarning">
          <i class="icon icon-attention"></i>
        </span>
      }
      @if (board.editable) {
        <div class="boards-list--add-item -no-text-select"
          (click)="addList(board)">
          <div class="boards-list--add-item-text">
            <op-icon icon-classes="icon-add icon-context" />
            <span [textContent]="text.addList"></span>
          </div>
        </div>
      }
    </div>
  }
}
