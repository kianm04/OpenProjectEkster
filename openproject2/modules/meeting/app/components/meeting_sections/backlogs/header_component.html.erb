<%=
  component_wrapper do
    flex_layout(align_items: :flex_start) do |flex|
      flex.with_column(flex: 1, pt: 1) do
        render(
          Primer::OpenProject::BorderBox::CollapsibleHeader.new(
            box: @box, collapsed: @collapsed
          )
        ) do |header|
          header.with_title(font_weight: :bold) { @backlog.title }
          header.with_description { description }
          header.with_count(count: @backlog.agenda_items.count)
        end
      end

      if edit_enabled?
        flex.with_column(classes: "hide-when-print") do
          render(Primer::Alpha::ActionMenu.new(data: { test_selector: "meeting-section-action-menu" })) do |menu|
            menu.with_show_button(icon: "kebab-horizontal", "aria-label": t("settings.project_attributes.label_section_actions"), scheme: :invisible)
            add_agenda_item_action(menu)
            add_work_package_action(menu)
            menu.with_divider
            clear_action_item(menu)
          end
        end
      end
    end
  end
%>
