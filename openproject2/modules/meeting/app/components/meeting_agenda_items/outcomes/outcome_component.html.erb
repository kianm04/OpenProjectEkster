<%=
  component_wrapper do
    # TODO: validate paddings (InsetBox would probably overwrite "p" here, giving an unintended padding at the bottom)
    render(OpPrimer::InsetBoxComponent.new(border: false, classes: "outcome-container")) do
      grid_layout("op-meeting-outcome-notes", tag: :div, id: "outcome-#{@meeting_outcome.id}") do |grid|
        grid.with_area(:title, tag: :span, classes: "title") do
          if multiple_outcomes?
            render(Primer::Beta::Heading.new(tag: :h5)) { "#{t(:label_agenda_outcome)} #{@index + 1}" }
          else
            render(Primer::Beta::Heading.new(tag: :h5)) { t(:label_agenda_outcome) }
          end
        end

        grid.with_area(:content, tag: :div) do
          render(Primer::Box.new(classes: "op-uc-container", mt: 1, pb: 0)) do
            format_text(@meeting_outcome, :notes)
          end
        end

        grid.with_area(:actions, tag: :div, justify_self: :end, classes: "hide-when-print") do
          render(Primer::Alpha::ActionMenu.new) do |menu|
            menu.with_show_button(
              icon: "kebab-horizontal",
              "aria-label": t(:label_agenda_outcome_actions),
              scheme: :invisible,
              ml: 2,
              test_selector: "op-meeting-outcome-actions"
            )
            with_item_group(menu) do
              edit_action_item(menu)
              copy_action_item(menu)
            end

            with_item_group(menu) do
              delete_action_item(menu)
            end
          end
        end
      end
    end
  end
%>
