<%=
  component_wrapper do
    primer_form_with(
      scope: :user_invitation,
      model:,
      method: :post,
      url: { controller: "/users/invite", action: :step, step: :project },
      html: {
        data: { turbo_stream: true },
        id: Users::Invitation::DialogComponent::FORM_ID,
      },
    ) do |f|
      flex_layout(mb: 3) do |modal_body|
        if model.errors[:base].present?
          modal_body.with_row do
            render(Primer::Alpha::Banner.new(mb: 3, icon: :stop, scheme: :danger)) { model.errors[:base].join("\n") }
          end
        end

        modal_body.with_row do
          render(Users::Invitation::ProjectStep::Form.new(f))
        end
      end
    end
  end
%>
