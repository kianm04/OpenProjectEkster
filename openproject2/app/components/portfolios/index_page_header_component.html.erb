<%= component_wrapper(tag: "turbo-frame") do %>
  <%=
    render(Primer::OpenProject::PageHeader.new(state: @state)) do |header|
      header.with_title(data: { "test-selector": "portfolio-query-name" }) do |_title|
        page_title
      end
      header.with_breadcrumbs(breadcrumb_items, selected_item_font_weight: current_breadcrumb_element == page_title ? :bold : :normal)

      header.with_action_menu(
        menu_arguments: {
          anchor_align: :end
        },
        button_arguments: {
          icon: "kebab-horizontal",
          "aria-label": t(:label_more),
          data: { "test-selector": "portfolio-more-dropdown-menu" }
        }
      ) do |menu|
        # TODO: WP-68900 Sort By
        # menu.with_item(
        #   tag: :a,
        #   label: t(:"queries.configure_view.heading"),
        #   href: configure_view_modal_project_queries_path(projects_query_params),
        #   content_arguments: { data: { controller: "async-dialog" }, rel: "nofollow" }
        # ) do |item|
        #   item.with_leading_visual_icon(icon: :gear)
        # end

        menu.with_item(
          tag: :button,
          label: t("label_zen_mode"),
          content_arguments: { data: { controller: "zen-mode", target: "zen-mode.button", action: "click->zen-mode#performAction" } }
        ) do |item|
          item.with_leading_visual_icon(icon: "screen-full")
        end
      end
    end
  %>
<% end %>
