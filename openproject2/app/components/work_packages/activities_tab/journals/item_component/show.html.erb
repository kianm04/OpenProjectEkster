<%=
  component_wrapper do
    if journal.notes.present?
      flex_layout do |journal_container|
        journal_container.with_row do
          render(Primer::Box.new(mt: 1, classes: "op-uc-container")) do
            format_text(journal, :notes)
          end
        end
        journal_container.with_row(flex_layout: true) do |reactions_container|
          reactions_container.with_column do
            if reactable?
              render(
                Primer::Alpha::ActionMenu.new(
                  menu_id:,
                  anchor_side: :outside_top,
                  overlay_arguments: {
                    title: I18n.t("reactions.action_title"),
                    visually_hide_title: true
                  },
                  src: emoji_actions_work_package_activity_path(journal.journable, journal)
                )
              ) do |action_menu|
                action_menu.with_show_button(
                  icon: "smiley",
                  "aria-label": I18n.t("reactions.add_reaction"),
                  name: I18n.t("reactions.add_reaction"),
                  mr: 1,
                  test_selector: "add-reactions-button"
                )
              end
            end
          end
          reactions_container.with_column do
            render(WorkPackages::ActivitiesTab::Journals::ItemComponent::Reactions.new(journal:, grouped_emoji_reactions:))
          end
        end
      end
    end
  end
%>
