<%=
  with_enterprise_banner_guard(enterprise_addon_key, image: enterprise_addon_image, inactive_guard: no_enterprise_feature?, variant: :large) do
    component_wrapper do
      flex_layout do |content|
        if show_top_banner?
          content.with_row(mb: 3) do
            render Primer::Alpha::Banner.new(
              scheme: :default,
              icon: :info,
              dismiss_scheme: :hide,
              test_selector: "op-custom-fields--top-banner"
            ) do
              top_banner_text
            end
          end
        end

        content.with_row do
          settings_primer_form_with(
            model:,
            scope: :custom_field,
            id: "custom_field_form",
            url: form_url,
            method: form_method
          ) { |form| render CustomFields::DetailsForm.new(form) }
        end
      end
    end
  end
%>
