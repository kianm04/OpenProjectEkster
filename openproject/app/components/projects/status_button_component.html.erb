<%=
  component_wrapper do
    flex_layout do |container|
      container.with_row do
        flex_layout(align_items: :center) do |flex|
          flex.with_column do
            render(
              OpPrimer::StatusButtonComponent.new(
                current_status: build_item(@status),
                items: build_items,
                readonly: !edit_enabled?,
                disabled: !edit_enabled?,
                button_arguments: {
                  title: t("projects.status.button_edit"),
                  size: @size
                }
              )
            )
          end

          unless hide_help_text?
            flex.with_column(mr: 2) do
              render(
                OpenProject::Common::AttributeLabelComponent.new(
                  attribute: :status,
                  model: project,
                  current_user: user
                )
              )
            end
          end
        end
      end

      unless hide_help_text?
        container.with_row do
          render(
            OpenProject::Common::AttributeHelpTextCaptionComponent.new(
              help_text: helpers.help_text_for(@project, :status, current_user: helpers.current_user)
            )
          )
        end
      end
    end
  end
%>
