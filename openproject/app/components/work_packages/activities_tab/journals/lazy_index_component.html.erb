<%=
  component_wrapper(class: "work-packages-activities-tab-journals-index-component") do
    flex_layout(data: { test_selector: "op-wp-journals-#{filter}-#{journal_sorting}" }) do |journals_index_wrapper_container|
      journals_index_wrapper_container.with_row(
        classes: "work-packages-activities-tab-journals-index-component--journals-inner-container",
        mb: inner_container_margin_bottom
      ) do
        flex_layout(
          data: { test_selector: "op-wp-journals-container" }
        ) do |journals_index_container|
          if empty_state?
            journals_index_container.with_row(mt: 2, mb: 3) do
              render(WorkPackages::ActivitiesTab::Journals::EmptyComponent.new)
            end
          else
            journals_index_container.with_row(id: insert_target_modifier_id) do
              pages.map { concat render(it) }
            end
          end
        end
      end

      unless empty_state?
        journals_index_wrapper_container
          .with_row(classes: "work-packages-activities-tab-journals-index-component--stem-connection")
      end
    end
  end
%>
