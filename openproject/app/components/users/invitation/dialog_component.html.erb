<%=
  render(
    Primer::Alpha::Dialog.new(
      id: DIALOG_ID,
      title: I18n.t(:label_invite_user),
      size: :medium_portrait,
      data: { "keep-open-on-submit": true }
    )
  ) do |dialog|
    dialog.with_header(variant: :large)
    dialog.with_body(classes: "Overlay-body_autocomplete_height") do
      component_collection do |body|
        if @project && !User.current.allowed_in_project?(:manage_members, @project)
          body.with_component(
            render(Primer::Alpha::Banner.new(mb: 2, scheme: :warning)) { I18n.t("users.invite_user_modal.project.no_invite_rights") }
          )
        end
        body.with_component(
          render(Users::Invitation::ProjectStep::FormComponent.new(model))
        )
      end
    end

    dialog.with_footer do
      render Users::Invitation::ProjectStep::FooterComponent.new
    end
  end
%>
