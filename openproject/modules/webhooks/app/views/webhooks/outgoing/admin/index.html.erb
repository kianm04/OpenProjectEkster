<% html_title t(:label_administration), t("webhooks.plural") %>

<%=
  render(Primer::OpenProject::PageHeader.new) do |header|
    header.with_title { t("webhooks.plural") }
    header.with_breadcrumbs(
      [{ href: admin_index_path, text: t("label_administration") },
       { href: admin_settings_api_path, text: t("menus.admin.api_and_webhooks") },
       t("webhooks.plural")]
    )

    header.with_description do
      t(
        "webhooks.outgoing.explanation.text",
        link: link_to(t(:"webhooks.outgoing.explanation.link"), admin_settings_aggregation_path, target: "_blank", rel: "noopener")
      ).html_safe
    end
  end
%>

<%=
  render(Primer::OpenProject::SubHeader.new) do |subheader|
    subheader.with_action_button(
      scheme: :primary,
      leading_icon: :plus,
      label: I18n.t("webhooks.outgoing.label_add_new"),
      tag: :a,
      href: new_admin_outgoing_webhook_path
    ) do
      t("webhooks.singular")
    end
  end
%>

<%= render ::Webhooks::Outgoing::Webhooks::TableComponent.new(rows: @webhooks) %>
