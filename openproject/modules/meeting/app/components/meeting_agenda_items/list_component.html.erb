<%=
  component_wrapper do
    flex_layout(mb: 3) do |flex|
      if @meeting.template? || @meeting.draft?
        flex.with_row(mb: 3) do
          banner
        end
      end
      flex.with_row(id: insert_target_modifier_id, data: { "allowed-drop-type": "section" }.merge(drop_target_config)) do
        first_and_last = [@meeting.sections.first, @meeting.sections.last]
        render(
          MeetingSections::ShowComponent.with_collection(
            sections_except_backlog,
            first_and_last:
          )
        )
      end
      if empty?
        flex.with_row do
          render(border_box_container) do |border_box|
            if @form_hidden
              border_box.with_body(
                scheme: :default
              ) do
                render(MeetingAgendaItems::BlankSlateComponent.new(meeting: @meeting))
              end
            end
            border_box.with_row(p: 0, border_top: 0) do
              render(MeetingAgendaItems::NewComponent.new(meeting: @meeting, hidden: @form_hidden, type: @form_type))
            end
          end
        end
      end
    end
  end
%>
