<%=
  table = Class.new(TableComponent) do
    columns :foo, :bar

    def self.name
      "MyTable"
    end

    ## This method is just a hack used for the preview
    ## Create your components under your namespace like so instead
    ## MyNamespace::TableComponent
    ## MyNamespace::RowComponent
    ## and the other class will be autoloaded
    def row_class
      @row_class ||= Class.new(RowComponent) do
        def self.name
          "Row"
        end

        def button_links
          [
            delete_button
          ]
        end

        def delete_button
          render(Primer::Beta::IconButton.new(icon: :trash, scheme: :danger, tag: :a, href: "#", "aria-label": "Delete"))
        end

        def foo
          render(Primer::Beta::Text.new(tag: :p)) { "Lorem ipsum dolor sit amet, consetetur sadipscing elitr" }
        end

        def bar
          "At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum."
        end
      end
    end

    def has_actions?
      true
    end

    def headers
      [
        [:foo, { caption: "Foo column" }],
        [:bar, { caption: "Bar column" }]
      ]
    end

    def sortable?
      # True per default but for this preview disabled
      false
    end
  end

  render(table.new(rows: [1, 2]))
%>
